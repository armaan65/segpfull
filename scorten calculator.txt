import 'dart:io';

class ScortenCalculator {
  static double calculateScorten(List<double> parameters) {
    double scortenScore = 0;

    for (double parameter in parameters) {
      scortenScore += parameter;
    }

    return scortenScore;
  }

  static double calculateRiskFactor(double scortenScore) {
    double riskFactor;
    if (scortenScore <= 1) {
      riskFactor = 3.2;
    } else if (scortenScore == 2) {
      riskFactor = 12.1;
    } else if (scortenScore == 3) {
      riskFactor = 35.3;
    } else if (scortenScore == 4) {
      riskFactor = 58.3;
    } else {
      riskFactor = 90;
    }

    return riskFactor;
  }

  static void main() {
    var options = [
      "Age >= 40",
      "Malignancy",
      "Heart Rate >= 120",
      "BSA >= 10",
      "Urea > 10",
      "Glucose > 14",
      "Bicarbonate < 20"
    ];

    print("Select options that apply to you:");

    var parameters = List<double>.filled(options.length, 0);

    for (int i = 0; i < options.length; i++) {
      stdout.write("${options[i]} (Enter 1 if true, 0 if false): ");
      try {
        parameters[i] = double.parse(stdin.readLineSync()!);
      } catch (e) {
        print("Invalid input. Please enter a valid number.");
        i--; // Retry the same input index
      }
    }

    // Calculate SCORTEN score
    double scortenResult = calculateScorten(parameters);

    // Display the result
    print("SCORTEN Score: $scortenResult");

    double riskFactorResult = calculateRiskFactor(scortenResult);
    print("Calculated Risk Factor: $riskFactorResult%");
  }
}

void main() {
  ScortenCalculator.main();
}

